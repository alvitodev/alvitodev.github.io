---
import ThemeToggle from '@/components/ThemeToggle.astro' /* IMPORT INI */

const navItems = [
  { href: '/', label: 'HOME' },
  { href: '/writing', label: 'WRITING' },
  { href: '/work', label: 'WORK' },
  { href: '/about', label: 'ABOUT' },
]

const pathname = Astro.url.pathname
---

<div class="flex items-center justify-between px-4 py-3 max-w-7xl mx-auto w-full">
  
  {/* LOGO (Kiri) */}
  <a href="/" class="flex items-center gap-2 group">
    <div class="relative w-6 h-6 border border-zinc-400 dark:border-zinc-700 bg-zinc-200 dark:bg-zinc-900 flex items-center justify-center overflow-hidden group-hover:border-amber-500 transition-colors">
      <span class="font-mono font-bold text-xs text-amber-600 dark:text-amber-500 group-hover:text-amber-700 dark:group-hover:text-white">A</span>
      <div class="absolute top-0 right-0 w-1.5 h-1.5 border-l border-b border-zinc-400 dark:border-zinc-700 bg-zinc-100 dark:bg-zinc-950"></div>
    </div>
    <span class="font-mono font-bold text-sm tracking-tighter text-zinc-700 dark:text-zinc-300 group-hover:text-black dark:group-hover:text-white transition-colors">
      ALVITO<span class="text-amber-600 dark:text-amber-500">.DEV</span>
    </span>
  </a>

  {/* NAVIGASI (Kanan) */}
  <nav class="flex items-center gap-2 sm:gap-4">
    {navItems.map((item) => {
      const isActive = item.href === '/' ? pathname === '/' : pathname.startsWith(item.href)
      return (
        <a 
          href={item.href}
          class={`
            relative px-3 py-1.5 text-[10px] sm:text-xs font-mono tracking-widest transition-all duration-300
            ${isActive 
              ? 'text-amber-600 dark:text-amber-500 font-bold bg-amber-500/10 border border-amber-500/50' 
              : 'text-zinc-500 hover:text-zinc-900 dark:hover:text-zinc-200 hover:bg-zinc-200/50 dark:hover:bg-zinc-800/50 border border-transparent'}
          `}
        >
          {item.label}
          {isActive && (
            <span class="absolute -top-0.5 -right-0.5 w-1.5 h-1.5 bg-amber-500 rounded-full animate-pulse shadow-[0_0_8px_rgba(245,158,11,0.8)]"></span>
          )}
        </a>
      )
    })}
    
    {/* Divider */}
    <div class="w-[1px] h-4 bg-zinc-300 dark:bg-zinc-800 mx-1 hidden sm:block"></div>
    
    {/* THEME TOGGLE BUTTON */}
    <div class="scale-90">
      <ThemeToggle />
    </div>

  </nav>

</div>